# ç®€ä»‹
è¯¥ä»“åº“æ˜¯ä¸ºå­¦ä¹ 23ç§è®¾è®¡æ¨¡å¼å»ºè®¾çš„ï¼Œè®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„ä»£ç å’Œç¬”è®°ï¼Œè®°å½•è€é¸Ÿå’Œå°èœçš„æ•…äº‹....
ğŸ¤ 0_0 å“ˆå“ˆ

# è®¾è®¡æ¨¡å¼

## è®¾è®¡æ¨¡å¼ç±»å‹
è®¾è®¡æ¨¡å¼åˆ†ä¸º3ä¸­ç±»å‹ï¼Œå…±23ç§ï¼š
1. åˆ›å»ºå‹æ¨¡å¼ï¼š[å•ä¾‹æ¨¡å¼](https://github.com/RookieDe/mode#ä¸€å•ä¾‹è®¾è®¡æ¨¡å¼)ï¼Œ[æŠ½è±¡å·¥å‚æ¨¡å¼](https://github.com/RookieDe/mode#æŠ½è±¡å·¥å‚æ¨¡å¼)ï¼Œ åŸå‹æ¨¡å¼ï¼Œå»ºé€ è€…æ¨¡å¼ï¼Œ[å·¥å‚æ¨¡å¼](https://github.com/RookieDe/mode#äºŒå·¥å‚æ¨¡å¼)ï¼›
2. ç»“æ„å‹æ¨¡å¼ï¼›é€‚é…å™¨æ¨¡å¼ï¼Œæ¡¥æ¥æ¨¡å¼ï¼Œè£…é¥°æ¨¡å¼ï¼Œç»„åˆæ¨¡å¼ï¼Œå¤–è§‚æ¨¡å¼ï¼Œäº«å…ƒæ¨¡å¼ï¼Œä»£ç†æ¨¡å¼ï¼›
3. è¡Œä¸ºå‹æ¨¡å¼ï¼šæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼ï¼Œè®¿é—®è€…æ¨¡å¼ï¼Œè¿­ä»£å™¨æ¨¡å¼ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼ï¼Œå¤‡å¿˜å½•æ¨¡å¼ï¼Œè§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreteræ¨¡å¼ï¼‰ï¼ŒçŠ¶æ€æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼ï¼ŒèŒè´£é“¾æ¨¡å¼ï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰

## è®¾è®¡æ¨¡å¼æ ¸å¿ƒæ€æƒ³
1. æ‰¾å‡ºåº”ç”¨ä¸­å¯èƒ½éœ€è¦å˜åŒ–ä¹‹å¤„ï¼ŒæŠŠå®ƒä»¬ç‹¬ç«‹å‡ºæ¥ï¼Œä¸è¦å’Œé‚£äº›ä¸éœ€è¦å˜æ¢çš„ä»£ç æ··åœ¨ä¸€èµ·ã€‚
2. é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–æˆã€‚
3. ä¸ºäº†äº¤äº’å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆè®¾è®¡è€ŒåŠªåŠ›ã€‚

## è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™ï¼š
1. [å•ä¸€èŒè´£åŸåˆ™](https://github.com/RookieDe/mode#1å•ä¸€èŒè´£åŸåˆ™)
2. [æ¥å£éš”ç¦»åŸåˆ™](https://github.com/RookieDe/mode#2æ¥å£éš”ç¦»åŸåˆ™)
3. [ä¾èµ–å€’ç½®ï¼ˆå€’è½¬ï¼‰åŸåˆ™](https://github.com/RookieDe/mode#3ä¾èµ–å€’è½¬åŸåˆ™)
4. [é‡Œæ°æ›¿æ¢åŸåˆ™](https://github.com/RookieDe/mode#4é‡Œæ°æ›¿æ¢åŸåˆ™)
5. [å¼€é—­åŸåˆ™](https://github.com/RookieDe/mode#5å¼€é—­åŸåˆ™)
6. [è¿ªç±³ç‰¹æ³•åˆ™](https://github.com/RookieDe/mode#6è¿ªç±³ç‰¹æ³•åˆ™)
7. [åˆæˆå¤ç”¨åŸåˆ™](https://github.com/RookieDe/mode#7åˆæˆå¤ç”¨åŸåˆ™)

### 1.å•ä¸€èŒè´£åŸåˆ™
å¯¹ç±»æ¥è¯´ï¼Œå³ä¸€ä¸ªç±»åº”è¯¥åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚å¦‚Aè´Ÿè´£ä¸åŒçš„èŒè´£ï¼šèŒè´£1ï¼ŒèŒè´£2ã€‚å½“èŒè´£1éœ€æ±‚å˜æ›´è€Œæ”¹å˜Aæ—¶ï¼Œå¯èƒ½é€ æˆèŒè´£2æ‰§è¡Œé”™è¯¯ï¼Œæ‰€ä»¥éœ€è¦å°†Açš„ç²’åº¦åˆ†è§£ä¸ºA1ï¼ŒA2ã€‚å•ä¸€èŒè´£æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚
1. é™ä½ç±»çš„å¤æ‚åº¦ï¼Œä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚
2. æé«˜ç±»çš„å¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§ã€‚
3. é™ä½å˜æ›´å¼•èµ·çš„é£é™©
4. é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”å½“éµå¾ªå•ä¸€èŒè´£ï¼Œåªè¦é€»è¾‘å¤Ÿç®€å•ï¼Œæ‰å¯ä»¥åœ¨ä»£ç çº§è¿åå•ä¸€èŒè´£ï¼Œåªæœ‰ç±»ä¸­çš„æ–¹æ³•æ•°é‡è¶³å¤Ÿå°‘ï¼Œå¯ä»¥åœ¨å‘æ”¾çº§åˆ«ä¿æŒå•ä¸€èŒè´£åŸåˆ™ã€‚

### 2.æ¥å£éš”ç¦»åŸåˆ™
å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œå³ä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Šã€‚

### 3.ä¾èµ–å€’è½¬åŸåˆ™
1. é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›
2. æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ï¼›
3. ä¾èµ–å€’è½¬ï¼ˆå€’ç½®ï¼‰çš„ä¸­å¿ƒæ€æƒ³æ˜¯é¢å‘æ¥å£ç¼–ç¨‹ï¼›
4. ä¾èµ–å€’è½¬åŸåˆ™æ˜¯åŸºäºè¿™æ ·çš„è®¾è®¡ç†å¿µï¼šç›¸è¾ƒäºç»†èŠ‚çš„å¤šå˜æ€§ï¼ŒæŠ½è±¡çš„ä¸œè¥¿è¦ç¨³å®šå¾—å¤šã€‚ä»¥æŠ½è±¡ç¨³åŸºç¡€çš„æ¶æ„æ¯”ç»†èŠ‚ä¸ºåŸºç¡€çš„æ¶æ„ç¨³å®šå¾—å¤šã€‚åœ¨javaä¸­ï¼ŒæŠ½è±¡æŒ‡çš„æ˜¯æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œç»†èŠ‚å°±æ˜¯å…·ä½“çš„å®ç°ç±»ã€‚
5. ä½¿ç”¨æ¥å£æˆ–æŠ½è±¡ç±»çš„ç›®çš„æ˜¯åˆ¶å®šå¥½çš„è§„èŒƒï¼Œè€Œä¸æ¶‰åŠä»»ä½•å…·ä½“çš„æ“ä½œï¼ŒæŠŠå±•ç°ç»†èŠ‚çš„ä»»åŠ¡äº¤ç»™ä»–ä»¬çš„å®ç°ç±»å»å®Œæˆã€‚


### 4.é‡Œæ°æ›¿æ¢åŸåˆ™
1. ç»§æ‰¿åŒ…å«è¿™æ ·ä¸€å±‚å«ä¹‰ï¼›çˆ¶ç±»ä¸­å‡¡æ˜¯å·²ç»å®ç°å¥½çš„æ–¹æ³•ï¼Œ å®é™…ä¸Šæ˜¯è®¾å®šä¸€ç§è§„èŒƒå’Œå¥‘çº¦ï¼Œè™½ç„¶ä¸å¼ºåˆ¶æ‰€æœ‰çš„å­ç±»å¿…é¡»éµå®ˆè¿™äº›å¥‘çº¦ï¼Œä½†æ˜¯å¦‚æœå­ç±»å¯¹è¿™äº›å·²ç»å®ç°çš„æ–¹æ³•ä»»æ„ä¿®æ”¹ï¼Œå°±ä¼šå¯¹æ•´ä¸ªä½“ç³»æ—©æˆç ´åã€‚
2. ç»§æ‰¿åœ¨ç»™ç¨‹åºè®¾è®¡å¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†å¼Šç«¯ã€‚æ¯”å¦‚ä½¿ç”¨ç»§æ‰¿ä¼šç»™ç¨‹åºå¸¦æ¥ä¾µå…¥æ€§ï¼Œç¨‹åºçš„å¯ç§»æ¤æ€§é™ä½ï¼Œå¢åŠ å¯¹è±¡é—´çš„è€¦åˆæ€§ï¼Œå¦‚æœä¸€ä¸ªç±»è¢«å…¶å®ƒç±»æ‰€ç»§æ‰¿ï¼Œåˆ™å½“è¿™ä¸ªç±»éœ€è¦ä¿®æ”¹æ—¶ï¼Œå¿…é¡»è€ƒè™‘æ‰€æœ‰çš„å­ç±»ï¼Œå¹¶ä¸”çˆ¶ç±»ä¿®æ”¹åï¼Œæ‰€æœ‰æ¶‰åŠåˆ°çš„å­ç±»éƒ½æœ‰å¯èƒ½äº§ç”Ÿæ•…éšœã€‚
3. é—®é¢˜æå‡ºï¼šåœ¨ç¼–ç¨‹ä¸­ï¼Œå¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨ç»§æ‰¿ï¼Ÿ>=é‡Œæ°æ›¿æ¢åŸåˆ™

åœ¨ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œéµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ï¼Œåœ¨å­ç±»ä¸­å°½é‡ä¸è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼Œç»§æ‰¿å®é™…ä¸Šæ˜¯è®©ä¸¤ä¸ªç±»çš„è€¦åˆæ€§å¢å¼ºäº†ï¼Œåœ¨é€‚å½“çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡èšåˆï¼Œç»„åˆï¼Œä¾èµ–æ¥è§£å†³å…³ç³»ã€‚

### 5.å¼€é—­åŸåˆ™
1. å¼€é—­åŸåˆ™æ˜¯ç¼–ç¨‹ä¸­æœ€åŸºç¡€ï¼Œæœ€é‡è¦çš„è®¾è®¡åŸåˆ™ï¼›
2. ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ï¼Œæ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼ˆå¯¹æä¾›æ–¹ï¼‰ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼ˆå¯¹ä½¿ç”¨æ–¹ï¼‰ã€‚ç”¨æŠ½è±¡æ„å»ºæ¡†æ¶ï¼Œç”¨å®ç°å±•ç°æ‰©å±•ç»†èŠ‚ã€‚
3. å½“è½¯ä»¶éœ€è¦å˜åŒ–æ—¶ï¼Œå°½é‡é€šè¿‡æ‰©å±•è½¯ä»¶å®ä½“çš„è¡Œä¸ºæ¥å®ç°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰çš„ä»£ç æ¥å®ç°å˜åŒ–ã€‚
4. ç¼–ç¨‹ä¸­éµå¾ªå…¶ä»–åŸåˆ™ï¼Œä»¥åŠä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„å°±æ˜¯éµå¾ªå¼€é—­åŸåˆ™ã€‚

### 6.è¿ªç±³ç‰¹æ³•åˆ™
1. ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶å®ƒå¯¹è±¡ä¿æŒæœ€å°çš„äº†è§£ï¼›
2. ç±»ä¸ç±»çš„å…³ç³»è¶Šå¯†åˆ‡ï¼Œè€¦åˆåº¦è¶Šå¤§ï¼›
3. è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆDemeter Principleï¼‰åˆå«æœ€å°çŸ¥é“åŸåˆ™ï¼Œå³ä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“è¶Šå°‘è¶Šå¥½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºè¢«ä¾èµ–çš„ç±»ä¸ç®¡å¤šä¹ˆå¤æ‚ï¼Œéƒ½å°½é‡å°†é€»è¾‘å°è£…åœ¨ç±»çš„å†…éƒ¨ã€‚å¯¹å¤–é™¤äº†æä¾›çš„publicæ–¹æ³•ï¼Œä¸å¯¹å¤–æ³„éœ²ä»»ä½•ä¿¡æ¯ã€‚
4. è¿ªç±³ç‰¹æ³•åˆ™è¿˜æœ‰ä¸ªæ›´ç®€å•çš„å®šä¹‰ï¼šåªä¸ç›´æ¥çš„æœ‹å‹é€šä¿¡ã€‚

è¿ªç±³ç‰¹æ³•åˆ™çš„æ ¸å¿ƒæ˜¯é™ä½ç±»ä¹‹é—´çš„è€¦åˆ
ä½†æ˜¯æ³¨æ„ï¼šç”±äºæ¯ä¸ªç±»éƒ½å‡å°‘äº†ä¸å¿…è¦çš„ä¾èµ–ï¼Œå› æ­¤è¿ªç±³ç‰¹æ³•åˆ™åªæ˜¯è¦æ±‚é™ä½ç±»é—´ï¼ˆå¯¹è±¡é—´ï¼‰è€¦åˆå…³ç³»ï¼Œå¹¶ä¸æ˜¯è¦æ±‚å®Œå…¨æ²¡æœ‰ä¾èµ–å…³ç³»ã€‚

### 7.åˆæˆå¤ç”¨åŸåˆ™
åŸåˆ™æ˜¯å°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿


## ä¸€ï¼šå•ä¾‹è®¾è®¡æ¨¡å¼
æ‰€è°“ç±»çš„å•ä¾‹è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯é‡‡å–ä¸€å®šçš„æ–¹æ³•ä¿è¯åœ¨æ•´ä¸ªçš„è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œå¯¹æŸä¸ªç±»åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œå¹¶ä¸”è¯¥ç±»åªæä¾›ä¸€ä¸ªå–å¾—å…¶å¯¹è±¡å®ä¾‹çš„æ–¹æ³•(é™æ€æ–¹æ³•)ã€‚å•ä¾‹è®¾è®¡æ¨¡å¼å…«ç§æ–¹å¼å•ä¾‹æ¨¡å¼æœ‰å…«ç§æ–¹å¼ï¼š
* [é¥¿æ±‰å¼(é™æ€å¸¸é‡)](https://github.com/RookieDe/mode#1é¥¿æ±‰å¼é™æ€å¸¸é‡)
* [é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰](https://github.com/RookieDe/mode#2é¥¿æ±‰å¼é™æ€ä»£ç å—)
* [æ‡’æ±‰å¼(çº¿ç¨‹ä¸å®‰å…¨)](https://github.com/RookieDe/mode#3æ‡’æ±‰å¼çº¿ç¨‹ä¸å®‰å…¨)
* [æ‡’æ±‰å¼(çº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•)](https://github.com/RookieDe/mode#4æ‡’æ±‰å¼çº¿ç¨‹å®‰å…¨åŒæ­¥æ–¹æ³•)
* [æ‡’æ±‰å¼(çº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—)](https://github.com/RookieDe/mode#5æ‡’æ±‰å¼çº¿ç¨‹å®‰å…¨åŒæ­¥ä»£ç å—)
* [åŒé‡æ£€æŸ¥](https://github.com/RookieDe/mode#5æ‡’æ±‰å¼çº¿ç¨‹å®‰å…¨åŒæ­¥ä»£ç å—)
* [é™æ€å†…éƒ¨ç±»](https://github.com/RookieDe/mode#6é™æ€å†…éƒ¨ç±»)
* [æšä¸¾](https://github.com/RookieDe/mode#7æšä¸¾)

### 1.é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰
#### åº”ç”¨å®ä¾‹
æ­¥éª¤å¦‚ä¸‹ï¼š
1. æ„é€ å™¨ç§æœ‰åŒ– (é˜²æ­¢ new )
2. ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡
3. å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ã€‚getInstance
4. ä»£ç å®ç°:
```java
/**
* é¥¿æ±‰å¼ï¼ˆé™æ€å˜é‡ï¼‰
*/
class Singleton{
    /**
     * 1.å®šä¹‰ä¸€ä¸ªç§æœ‰æ„é€ ï¼Œé˜²æ­¢å¤–éƒ¨new
     */
    private Singleton(){
    }

    /**
     * 2.å®šä¹‰ä¸€ä¸ªå†…éƒ¨çš„å¯¹è±¡å®ä¾‹
     */
    private final static Singleton instance = new Singleton();

    /**
     * 3.æä¾›ä¸€ä¸ªä¾›å¤–éƒ¨è°ƒç”¨çš„å…¬æœ‰é™æ€æ–¹æ³•ï¼Œè¿”å›å®ä¾‹å¯¹è±¡
     * @return
     */
    public static Singleton getInstance() {
        return instance;
    }
}
```

#### ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š
1. ä¼˜ç‚¹ï¼šè¿™ç§å†™æ³•æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ã€‚é¿å…äº†çº¿ç¨‹åŒæ­¥é—®é¢˜ï¼›
2. ç¼ºç‚¹ï¼šåœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ï¼Œæ²¡æœ‰è¾¾åˆ° Lazy Loading çš„æ•ˆæœã€‚å¦‚æœä»å§‹è‡³ç»ˆä»æœªä½¿ç”¨è¿‡è¿™ä¸ªå®ä¾‹ï¼Œåˆ™ä¼šé€ æˆå†…å­˜çš„æµªè´¹ï¼›
3. è¿™ç§æ–¹å¼åŸºäº classloder æœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜ï¼Œä¸è¿‡ï¼Œinstance åœ¨ç±»è£…è½½æ—¶å°±å®ä¾‹åŒ–ï¼Œåœ¨å•ä¾‹æ¨¡å¼ä¸­å¤§å¤šæ•°éƒ½æ˜¯è°ƒç”¨ getInstance æ–¹æ³•ï¼Œä½†æ˜¯å¯¼è‡´ç±»è£…è½½çš„åŸå› æœ‰å¾ˆå¤šç§ï¼Œå› æ­¤ä¸èƒ½ç¡®å®šæœ‰å…¶ä»–çš„æ–¹å¼ï¼ˆæˆ–è€…å…¶ä»–çš„é™æ€æ–¹æ³•ï¼‰å¯¼è‡´ç±»è£…è½½ï¼Œè¿™æ—¶å€™åˆå§‹åŒ– instance å°±æ²¡æœ‰è¾¾åˆ° lazy loading çš„æ•ˆæœ
4. ç»“è®ºï¼šè¿™ç§å•ä¾‹æ¨¡å¼å¯ç”¨ï¼Œå¯èƒ½é€ æˆå†…å­˜æµªè´¹

### 2.é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰
#### åº”ç”¨å®ä¾‹
```java
/**
* é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰
*/
class Singleton2{

    /**
     * 1.å®šä¹‰ä¸€ä¸ªç§æœ‰æ„é€ ï¼Œé˜²æ­¢å¤–éƒ¨new
     */
    private Singleton2() {

    }

    /**
     * 2.å®šä¹‰ä¸€ä¸ªå†…éƒ¨çš„å¯¹è±¡å®ä¾‹
     */
    private static Singleton2 singleton2;

    /**
     * åœ¨é™æ€ä»£ç å—ä¸­åˆ›å»ºå®ä¾‹
     */
    static {
        singleton2 = new Singleton2();
    }

    /**
     * 3.æä¾›ä¸€ä¸ªä¾›å¤–éƒ¨è°ƒç”¨çš„å…¬æœ‰é™æ€æ–¹æ³•ï¼Œè¿”å›å®ä¾‹å¯¹è±¡
     * @return
     */
    public static Singleton2 getInstance(){
        return singleton2;
    }
}
```
#### ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š
1. è¿™ç§æ–¹å¼å’Œä¸Šé¢çš„æ–¹å¼å…¶å®ç±»ä¼¼ï¼Œåªä¸è¿‡å°†ç±»å®ä¾‹åŒ–çš„è¿‡ç¨‹æ”¾åœ¨äº†é™æ€ä»£ç å—ä¸­ï¼Œä¹Ÿæ˜¯åœ¨ç±»è£…è½½çš„æ—¶å€™ï¼Œå°±æ‰§è¡Œé™æ€ä»£ç å—ä¸­çš„ä»£ç ï¼Œåˆå§‹åŒ–ç±»çš„å®ä¾‹ã€‚ä¼˜ç¼ºç‚¹å’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ã€‚
2. ç»“è®ºï¼šè¿™ç§å•ä¾‹æ¨¡å¼å¯ç”¨ï¼Œä½†æ˜¯å¯èƒ½é€ æˆå†…å­˜æµªè´¹

### 3.æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰
#### åº”ç”¨å®ä¾‹
```java
class Singleton3{
    private static Singleton3 singleton3;

    private Singleton3(){

    }

    /**
     * æä¾›ä¸€ä¸ªé™æ€å…¬æœ‰æ–¹æ³•ï¼Œå½“ä½¿ç”¨åˆ°è¯¥æ–¹æ³•æ—¶ï¼Œæ‰å»åˆ›å»ºinstance
     * å³æ‡’æ±‰å¼
     * @return
     */
    public static Singleton3 getInstance(){
        if (singleton3 == null){
            return new Singleton3();
        }
        return singleton3;
    }
}
```
#### ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š
1. èµ·åˆ°äº† Lazy Loading çš„æ•ˆæœï¼Œä½†æ˜¯åªèƒ½åœ¨å•çº¿ç¨‹ä¸‹ä½¿ç”¨ã€‚
2. å¦‚æœåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹è¿›å…¥äº† if (singleton == null)åˆ¤æ–­è¯­å¥å—ï¼Œè¿˜æœªæ¥å¾—åŠå¾€ä¸‹æ‰§è¡Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿé€šè¿‡äº†è¿™ä¸ªåˆ¤æ–­è¯­å¥ï¼Œè¿™æ—¶ä¾¿ä¼šäº§ç”Ÿå¤šä¸ªå®ä¾‹äº§ç”Ÿå¤šä¸ªå®ä¾‹ã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸å¯ä½¿ç”¨è¿™ç§æ–¹å¼
3. ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸è¦ä½¿ç”¨ä¸è¦ä½¿ç”¨è¿™ç§æ–¹å¼

### 4.æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰
#### åº”ç”¨å®ä¾‹
```java
/**
* æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰
*/
class Singleton4{
    private static Singleton4 singleton4;

    private Singleton4(){

    }

    /**
     * æä¾›ä¸€ä¸ªé™æ€å…¬æœ‰æ–¹æ³•ï¼Œå½“æ—¶ç”¨åˆ°è¯¥æ–¹æ³•æ—¶ï¼Œæ‰å»åˆ›å»ºinstance
     * å³æ‡’æ±‰å¼
     * åŠ å…¥synchronizedï¼ŒåŒä¸€æ—¶é—´åªèƒ½åˆä¸€ä¸ªçº¿ç¨‹è¿›å…¥
     * @return
     */
    public static synchronized Singleton4 getInstance(){
        if (singleton4 == null){
            return new Singleton4();
        }
        return singleton4;
    }
}
```
#### ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š
1. è§£å†³äº†çº¿ç¨‹å®‰å…¨é—®é¢˜
2. æ•ˆç‡å¤ªä½äº†ï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨æƒ³è·å¾—ç±»çš„å®ä¾‹æ—¶å€™ï¼Œæ‰§è¡Œ getInstance()æ–¹æ³•éƒ½è¦è¿›è¡ŒåŒæ­¥ã€‚è€Œå…¶å®è¿™ä¸ªæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡å®ä¾‹åŒ–ä»£ç å°±å¤Ÿäº†ï¼Œåé¢çš„æƒ³è·å¾—è¯¥ç±»å®ä¾‹ï¼Œç›´æ¥ return å°±è¡Œäº†ã€‚æ–¹æ³•è¿›è¡ŒåŒæ­¥æ•ˆç‡å¤ªæ–¹æ³•è¿›è¡ŒåŒæ­¥æ•ˆç‡å¤ªä½
3. ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸æ¨èä¸æ¨èä½¿ç”¨è¿™ç§æ–¹å¼

### 5.æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰
#### åº”ç”¨å®ä¾‹ 
```java
/**
* æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰
*/
class Singleton5{
    private static volatile Singleton5 singleton5;

    private Singleton5(){

    }
    
    /**
     * æä¾›ä¸€ä¸ªé™æ€å…¬æœ‰æ–¹æ³•ï¼Œå½“æ—¶ç”¨åˆ°è¯¥æ–¹æ³•æ—¶ï¼Œæ‰å»åˆ›å»ºinstance
     * å³æ‡’æ±‰å¼ åŒé‡æ£€æŸ¥
     * åŠ å…¥synchronizedä»£ç å—å’Œvolatileï¼Œä¿è¯çº¿ç¨‹å®‰å…¨
     * @return
     */
    public static synchronized Singleton5 getInstance(){
        if (singleton5 == null){
            synchronized (Singleton5.class){
                if (singleton5 == null){
                    return new Singleton5();
                }
            }
        }
        return singleton5;
    }
}
```
#### ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š
1. Double-Check æ¦‚å¿µæ˜¯å¤šçº¿ç¨‹å¼€å‘ä¸­å¸¸ä½¿ç”¨åˆ°çš„ï¼Œå¦‚ä»£ç ä¸­æ‰€ç¤ºï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä¸¤æ¬¡ if (singleton == null)æ£€æŸ¥ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨äº†ã€‚
2. è¿™æ ·ï¼Œå®ä¾‹åŒ–ä»£ç åªç”¨æ‰§è¡Œä¸€æ¬¡ï¼Œåé¢å†æ¬¡è®¿é—®æ—¶ï¼Œåˆ¤æ–­ if (singleton == null)ï¼Œç›´æ¥ return å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¹Ÿé¿å…çš„åå¤è¿›è¡Œæ–¹æ³•åŒæ­¥.
3. çº¿ç¨‹å®‰å…¨ï¼›å»¶è¿ŸåŠ è½½ï¼›æ•ˆç‡è¾ƒé«˜
4. ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¨èä½¿ç”¨è¿™ç§å•ä¾‹è®¾è®¡æ¨¡å¼

### 6.é™æ€å†…éƒ¨ç±»
#### åº”ç”¨å®ä¾‹
```java
/**
* é™æ€å†…éƒ¨ç±»
*/
class Singleton6{

    private Singleton6(){

    }

    /**
     * é™æ€å†…éƒ¨ç±»ï¼Œåªæœ‰åœ¨è°ƒç”¨æœ¬ç±»çš„æ—¶å€™ï¼Œæ‰ä¼šåˆ›å»ºï¼›
     * ï¼ˆç±»åŠ è½½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼‰
     */
    private static class SingletonInstance{
        private static final Singleton6 INSTANCE = new Singleton6();
    }

    public static Singleton6 getInstance(){
        return SingletonInstance.INSTANCE;
    }
}
```
#### ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š
1. è¿™ç§æ–¹å¼é‡‡ç”¨äº†ç±»è£…è½½çš„æœºåˆ¶æ¥ä¿è¯åˆå§‹åŒ–å®ä¾‹æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚
2. é™æ€å†…éƒ¨ç±»æ–¹å¼åœ¨ Singleton6 ç±»è¢«è£…è½½æ—¶å¹¶ä¸ä¼šç«‹å³å®ä¾‹åŒ–ï¼Œè€Œæ˜¯åœ¨éœ€è¦å®ä¾‹åŒ–æ—¶ï¼Œè°ƒç”¨ getInstance æ–¹æ³•ï¼Œæ‰ä¼šè£…è½½ SingletonInstance ç±»ï¼Œä»è€Œå®Œæˆ Singleton çš„å®ä¾‹åŒ–ã€‚
3. ç±»çš„é™æ€å±æ€§åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½ç±»çš„æ—¶å€™åˆå§‹åŒ–ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œï¼ŒJVM å¸®åŠ©æˆ‘ä»¬ä¿è¯äº†çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œåœ¨ç±»è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåˆ«çš„çº¿ç¨‹æ˜¯æ— æ³•è¿›å…¥çš„ã€‚
4. ä¼˜ç‚¹ï¼šé¿å…äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œåˆ©ç”¨é™æ€å†…éƒ¨ç±»ç‰¹ç‚¹å®ç°å»¶è¿ŸåŠ è½½ï¼Œæ•ˆç‡é«˜
5. ç»“è®ºï¼šæ¨èæ¨èä½¿ç”¨

### 7.æšä¸¾
#### åº”ç”¨å®ä¾‹
```java
/**
* æšä¸¾ï¼Œå®ç°å•ä¾‹
*/
enum Singleton{
    INSTANCE;
    public void getInstance(){

    }
}
```

#### ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š
1. è¿™å€ŸåŠ© JDK1.5 ä¸­æ·»åŠ çš„æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚ä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚
2. è¿™ç§æ–¹å¼æ˜¯ Effective Java ä½œè€…ä½œè€… Josh Bloch æå€¡æå€¡çš„æ–¹å¼
3. ç»“è®ºï¼šæ¨èæ¨èä½¿ç”¨


### å•ä¾‹æ¨¡å¼æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜
1. å•ä¾‹æ¨¡å¼ä¿è¯äº† ç³»ç»Ÿå†…å­˜ä¸­è¯¥ç±»åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒèŠ‚çœäº†ç³»ç»Ÿèµ„æºï¼Œå¯¹äºä¸€äº›éœ€è¦é¢‘ç¹åˆ›å»ºé”€æ¯çš„å¯¹è±¡ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½
2. å½“æƒ³å®ä¾‹åŒ–ä¸€ä¸ªå•ä¾‹ç±»çš„æ—¶å€™ï¼Œå¿…é¡»è¦è®°ä½ä½¿ç”¨ç›¸åº”çš„è·å–å¯¹è±¡çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ new
3. å•ä¾‹æ¨¡å¼ä½¿ç”¨çš„åœºæ™¯ä½¿ç”¨çš„åœºæ™¯ï¼šéœ€è¦é¢‘ç¹çš„è¿›è¡Œåˆ›å»ºå’Œé”€æ¯çš„å¯¹è±¡ã€åˆ›å»ºå¯¹è±¡æ—¶è€—æ—¶è¿‡å¤šæˆ–è€—è´¹èµ„æºè¿‡å¤š(å³ï¼šé‡é‡çº§å¯¹è±¡)ï¼Œä½†åˆç»å¸¸ç”¨åˆ°çš„å¯¹è±¡ã€å·¥å…·ç±»å¯¹è±¡å·¥å…·ç±»å¯¹è±¡ã€é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡(æ¯”å¦‚æ•°æ®æºã€æ•°æ®æºã€session å·¥å‚ç­‰)



## äºŒï¼šå·¥å‚æ¨¡å¼

### ç®€å•å·¥å‚æ¨¡å¼

#### çœ‹ä¸€ä¸ªæŠ«è¨çš„é¡¹ç›®ï¼š
è¦ä¾¿äºæŠ«è¨ç§ç±»çš„æ‰©å±•ï¼Œè¦ä¾¿äºç»´æŠ¤
1. æŠ«è¨çš„ç§ç±»å¾ˆå¤š(æ¯”å¦‚ GreekPizzã€CheesePizz ç­‰)
2. æŠ«è¨çš„åˆ¶ä½œæœ‰ prepareï¼Œbake, cut, box
3. å®ŒæˆæŠ«è¨åº—è®¢è´­åŠŸèƒ½ã€‚
   
ä½¿ç”¨ä¼ ç»Ÿçš„æ–¹å¼æ¥å®Œæˆ:
```java
public class OrderPizza {

    public  OrderPizza(){
        Pizza pizza = null;
        String orderType;

        orderType = getType();
        if ("fruit".equals(orderType)) {
            pizza = new FruitPizza();
            pizza.setName("fruit");
        } else if ("cheese".equals(orderType)) {
            pizza = new CheesePizza();
            pizza.setName("cheese");
        } else {
            System.err.println("æ²¡æœ‰è¿™ä¸ªæŠ«è¨ï¼ï¼ ");
            return;
        }
        //æŠ«è¨åˆ¶ä½œ
        pizza.prepare();
        pizza.bake();
        pizza.cut();
        pizza.box();

    }
    
    /**
     * è·å–è®¢è´­çš„æŠ«è¨
     * @return
     */
    private String getType() {
        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));
        System.err.println("è¯·è¾“å…¥è¦è´­ä¹°çš„æŠ«è¨ï¼š");
        try {
            String s = bufferedReader.readLine();
            return s;
        } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }
}
```

##### ä¼ ç»Ÿçš„æ–¹å¼çš„ä¼˜ç¼ºç‚¹:
1. ä¼˜ç‚¹æ˜¯æ¯”è¾ƒå¥½ç†è§£ï¼Œç®€å•æ˜“æ“ä½œã€‚
2. ç¼ºç‚¹æ˜¯è¿åäº†è®¾è®¡æ¨¡å¼çš„ ocp åŸåˆ™åŸåˆ™ï¼Œå³å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚å³å½“æˆ‘ä»¬ç»™ç±»å¢åŠ æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œå°½é‡ä¸ä¿®æ”¹ä»£ç ï¼Œæˆ–è€…å°½å¯èƒ½å°‘ä¿®æ”¹ä»£ç .
3. æ¯”å¦‚æˆ‘ä»¬è¿™æ—¶è¦æ–°å¢åŠ ä¸€ä¸ª Pizza çš„ç§ç±»çš„ç§ç±»(Pepper æŠ«è¨æŠ«è¨)ï¼Œæˆ‘ä»¬å°±éœ€è¦æ›´æ”¹åŸæ¥çš„ä»£ç ï¼›

##### æ”¹è¿›çš„æ€è·¯åˆ†æ
åˆ†æï¼šä¿®æ”¹ä»£ç å¯ä»¥æ¥å—ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨å…¶å®ƒçš„åœ°æ–¹ä¹Ÿæœ‰åˆ›å»º Pizza çš„ä»£ç ï¼Œå°±æ„å‘³ç€ï¼Œä¹Ÿéœ€è¦ä¿®æ”¹ï¼Œè€Œåˆ›å»º Pizzaçš„ä»£ç ï¼Œå¾€å¾€æœ‰å¤šå¤„ã€‚

æ€è·¯ï¼šæŠŠåˆ›å»ºæŠŠåˆ›å»º Pizza å¯¹è±¡å°è£…åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬æœ‰æ–°çš„è¿™æ ·æˆ‘ä»¬æœ‰æ–°çš„ Pizza ç§ç±»æ—¶ç§ç±»æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹è¯¥ç±»å°±å¯åªéœ€è¦ä¿®æ”¹è¯¥ç±»å°±å¯ï¼Œå…¶å®ƒæœ‰åˆ›å»ºåˆ° Pizzaå¯¹è±¡çš„ä»£ç å°±ä¸éœ€è¦ä¿®æ”¹äº†.-> ç®€å•å·¥å‚ç®€å•å·¥å‚æ¨¡å¼ã€‚

#### åŸºæœ¬ä»‹ç»

1. ç®€å•å·¥å‚æ¨¡å¼æ˜¯å±äºåˆ›å»ºå‹æ¨¡å¼åˆ›å»ºå‹æ¨¡å¼ï¼Œæ˜¯å·¥å‚æ¨¡å¼çš„ä¸€ç§ã€‚ç®€å•å·¥å‚æ¨¡å¼æ˜¯ç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“ç±»çš„å®ä¾‹ã€‚ç®€å•å·¥å‚æ¨¡å¼æ˜¯å·¥å‚æ¨¡å¼å®¶æ—ä¸­æœ€ç®€å•å®ç”¨çš„æ¨¡å¼
2. ç®€å•å·¥å‚æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„ç±»ï¼Œç”±è¿™ä¸ªç±»æ¥å°è£…å®ä¾‹åŒ–å¯¹è±¡çš„è¡Œä¸ºå°è£…å®ä¾‹åŒ–å¯¹è±¡çš„è¡Œä¸º(ä»£ç )
3. åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œå½“æˆ‘ä»¬ä¼šç”¨åˆ°å¤§é‡çš„åˆ›å»ºæŸç§ã€æŸç±»æˆ–è€…æŸæ‰¹å¯¹è±¡æ—¶ï¼Œå°±ä¼šä½¿ç”¨åˆ°å·¥å‚æ¨¡å¼.

#### 1.ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼
ç®€å•å·¥å‚æ¨¡å¼çš„è®¾è®¡æ–¹æ¡ˆ: å®šä¹‰ä¸€ä¸ªå¯ä»¥å®ä¾‹åŒ– Pizaa å¯¹è±¡çš„ç±»ï¼Œå°è£…åˆ›å»ºå¯¹è±¡çš„ä»£ç ã€‚
```java
public class SimpleFactory {

    public Pizza createPizza(String orderType) {
        Pizza pizza = null;
        if ("fruit".equals(orderType)) {
            pizza = new FruitPizza();
            pizza.setName("greek");
        } else if ("cheese".equals(orderType)) {
            pizza = new CheesePizza();
            pizza.setName("cheese");
        }
        return pizza;
    }

    /**
     * ç®€å•å·¥å‚æ¨¡å¼ ä¹Ÿå« é™æ€å·¥å‚æ¨¡å¼
     * @param orderType
     * @return
     */
    public static Pizza createPizza2(String orderType) {
        Pizza pizza = null;
        if ("fruit".equals(orderType)) {
            pizza = new FruitPizza();
            pizza.setName("fruit");
        } else if ("cheese".equals(orderType)) {
            pizza = new CheesePizza();
            pizza.setName("cheese");
        }
        return pizza;
    }
}


public class OrderPizza2 {
    Pizza pizza = null;
    String orderType = "";
    public OrderPizza2() {

        do {
            orderType = getType();
            pizza = SimpleFactory.createPizza2(orderType);
            if (pizza != null) {
                pizza.prepare();
                pizza.bake();
                pizza.cut();
                pizza.box();
            } else {
                System.out.println("æ²¡æœ‰æ‰¾åˆ°æŠ«è¨ç§ç±»ï¼ï¼");
                break;
            }
        } while (true);
    }
    private String getType() {
        try {
            BufferedReader strin = new BufferedReader(new InputStreamReader(System.in));
            System.out.println("input pizza æŠ«è¨ç±»å‹:");
            String str = strin.readLine();
            return str;
        } catch (IOException e) {
            e.printStackTrace();
            return "";
        }
    }
}
```

### å·¥å‚æ–¹æ³•æ¨¡å¼

ç®€å•å·¥å‚æ¨¡å¼çš„è®¾è®¡æ–¹æ¡ˆ: å®šä¹‰ä¸€ä¸ªå¯ä»¥å®ä¾‹åŒ– Pizaa å¯¹è±¡çš„ç±»ï¼Œå°è£…åˆ›å»ºå¯¹è±¡çš„ä»£ç ã€‚

çœ‹ä¸€ä¸ªæ–°çš„éœ€æ±‚
æŠ«è¨é¡¹ç›®æ–°çš„éœ€æ±‚ï¼šå®¢æˆ·åœ¨ç‚¹æŠ«è¨æ—¶ï¼Œå¯ä»¥ç‚¹ä¸åŒå£å‘³çš„æŠ«è¨ä¸åŒå£å‘³çš„æŠ«è¨ï¼Œæ¯”å¦‚ åŒ—äº¬çš„å¥¶é…ª pizzaã€åŒ—äº¬çš„æ°´æœ pizza æˆ–è€…æ˜¯ä¼¦æ•¦çš„å¥¶é…ª pizzaã€ä¼¦æ•¦çš„æ°´æœ pizzaã€‚

æ€è·¯ 1
ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼ï¼Œåˆ›å»ºä¸åŒçš„ç®€å•å·¥å‚ç±»ä¸åŒçš„ç®€å•å·¥å‚ç±»ï¼Œæ¯”å¦‚ BJPizzaSimpleFactoryã€LDPizzaSimpleFactory ç­‰ç­‰.ä»å½“å‰
è¿™ä¸ªæ¡ˆä¾‹æ¥è¯´ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯è€ƒè™‘åˆ°é¡¹ç›®çš„è§„æ¨¡ï¼Œä»¥åŠè½¯ä»¶çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å¹¶ä¸æ˜¯ç‰¹åˆ«å¥½

æ€è·¯ 2
ä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼

#### å·¥å‚æ–¹æ³•æ¨¡å¼ä»‹ç»
1. å·¥å‚æ–¹æ³•æ¨¡å¼è®¾è®¡æ–¹æ¡ˆï¼šå°†æŠ«è¨é¡¹ç›®çš„å®ä¾‹åŒ–åŠŸèƒ½æŠ½è±¡æˆæŠ½è±¡æ–¹æ³•ï¼Œåœ¨ä¸åŒçš„å£å‘³ç‚¹é¤å­ç±»ä¸­å…·ä½“å®ç°ã€‚
2. å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æŠ½è±¡æ–¹æ³•ï¼Œç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼å°†å¯¹è±¡çš„å®ä¾‹å¯¹è±¡çš„å®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»ã€‚

### æŠ½è±¡å·¥å‚æ¨¡å¼
1. æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ª interface ç”¨äºåˆ›å»ºç›¸å…³æˆ–æœ‰ä¾èµ–å…³ç³»çš„å¯¹è±¡ç°‡ï¼Œè€Œæ— éœ€æŒ‡æ˜å…·ä½“çš„ç±»
2. æŠ½è±¡å·¥å‚æ¨¡å¼å¯ä»¥å°†ç®€å•å·¥å‚æ¨¡å¼å’Œå·¥å‚æ–¹æ³•æ¨¡å¼è¿›è¡Œæ•´åˆã€‚
3. ä»è®¾è®¡å±‚é¢çœ‹ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼å°±æ˜¯å¯¹ç®€å•å·¥å‚æ¨¡å¼çš„æ”¹è¿›(æˆ–è€…ç§°ä¸ºè¿›ä¸€æ­¥çš„æŠ½è±¡)
4. å°†å·¥å‚æŠ½è±¡æˆä¸¤å±‚ä¸¤å±‚ï¼ŒAbsFactory(æŠ½è±¡å·¥å‚æŠ½è±¡å·¥å‚) å’Œ å…·ä½“å®ç°çš„å·¥å‚å­ç±»å…·ä½“å®ç°çš„å·¥å‚å­ç±»ã€‚ç¨‹åºå‘˜å¯ä»¥æ ¹æ®åˆ›å»ºå¯¹è±¡ç±»å‹ä½¿ç”¨å¯¹åº”çš„å·¥å‚å­ç±»ã€‚è¿™æ ·å°†å•ä¸ªçš„ç®€å•å·¥å‚ç±»å˜æˆäº†å·¥å‚ç°‡ï¼Œæ›´åˆ©äºä»£ç çš„ç»´æŠ¤å’Œæ‰©å±•ã€‚

#### å·¥å‚æ¨¡å¼å°ç»“

å·¥å‚æ¨¡å¼çš„æ„ä¹‰
1. å°†å®ä¾‹åŒ–å¯¹è±¡çš„ä»£ç æå–å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªç±»ä¸­ç»Ÿä¸€ç®¡ç†å’Œç»´æŠ¤ï¼Œè¾¾åˆ°å’Œä¸»é¡¹ç›®çš„ä¾èµ–å…³ç³»çš„è§£è€¦ã€‚ä»è€Œæé«˜é¡¹ç›®çš„æ‰©å±•å’Œç»´æŠ¤æ€§
2. ä¸‰ç§å·¥å‚æ¨¡å¼ (ç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼)
3. è®¾è®¡æ¨¡å¼çš„ä¾èµ–æŠ½è±¡åŸåˆ™
    1. åˆ›å»ºå¯¹è±¡å®ä¾‹æ—¶ï¼Œä¸è¦ç›´æ¥ new ç±», è€Œæ˜¯æŠŠè¿™ä¸ª new ç±»çš„åŠ¨ä½œæ”¾åœ¨ä¸€ä¸ªå·¥å‚çš„æ–¹æ³•ä¸­ï¼Œå¹¶è¿”å›ã€‚æœ‰çš„ä¹¦ä¸Šè¯´ï¼Œå˜é‡ä¸è¦ç›´æ¥æŒæœ‰å…·ä½“ç±»çš„å¼•ç”¨ã€‚
    2. ä¸è¦è®©ç±»ç»§æ‰¿å…·ä½“ç±»ï¼Œè€Œæ˜¯ç»§æ‰¿æŠ½è±¡ç±»æˆ–è€…æ˜¯å®ç° interface(æ¥å£)
    3. ä¸è¦è¦†ç›–åŸºç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•ã€‚

å…¥å£ç±»ï¼š
```java
public class PizzaStore {
    public static void main(String[] args) {
        new OrderPizza(new LDFactory());
    }
}
```

è®¢å•ç±»:
```java
public class OrderPizza {

    AbsFactory factory;

    public OrderPizza(AbsFactory factory) {
        setFactory(factory);
    }

    private void setFactory(AbsFactory factory) {
        Pizza pizza = null;
        String orderType = "";
        this.factory = factory;
        do {
            orderType = getType();
            pizza = factory.createPizza(orderType);
            if (pizza != null) {
                pizza.prepare();
                pizza.bake();
                pizza.cut();
                pizza.box();
            } else {
                System.out.println("æ²¡æœ‰è¯¥æŠ«è¨ç§ç±»ï¼");
                break;
            }
        } while (true);
    }

    private String getType() {
        try {
            BufferedReader strin = new BufferedReader(new InputStreamReader(System.in));
            System.out.println("input pizza type:");
            String str = strin.readLine();
            return str;
        } catch (IOException e) {
            e.printStackTrace();
            return "";
        }
    }
}
```

æŠ½è±¡æŠ«è¨ç±»ï¼š
```java
public abstract class Pizza {
    /**
     * æŠ«è¨åç§°
     */
    protected String name;

    /**
     * å‡†å¤‡é˜¶æ®µåˆ¶ä½œæ–¹æ³•
     */
    public abstract void prepare();

    /**
     * çƒ§çƒ¤åˆ¶ä½œæŠ«è¨
     */
    public void bake() {
        System.out.println(name + " baking;");
    }

    /**
     *  åˆ‡æŠ«è¨
     */
    public void cut() {
        System.out.println(name + " cutting;");
    }

    /**
     * ç›’å­æ‰“åŒ…
     */
    public void box() {
        System.out.println(name + " boxing;");
    }

    public void setName(String name) {
        this.name = name;
    }
}
```

å·¥å‚æ¥å£ï¼š
```java
public interface AbsFactory {
    Pizza createPizza(String orderType);
}
```

æŠ½è±¡å·¥å‚æ–¹æ³•ï¼š

```java
//åŒ—äº¬æŠ«è¨
public class BJFactory implements AbsFactory{
    @Override
    public Pizza createPizza(String orderType) {
        Pizza pizza = null;
        if ("cheese".equals(orderType)) {
            pizza = new BJCheesePizza();
        } else if ("pepper".equals(orderType)) {
            pizza = new LDPepperPizza();
        }
        return pizza;
    }
}

//ä¼¦æ•¦æŠ«è¨
public class LDFactory implements AbsFactory{
    @Override
    public Pizza createPizza(String orderType) {
        Pizza pizza = null;
        if ("cheese".equals(orderType)) {
            pizza = new LDCheesePizza();
        } else if ("pepper".equals(orderType)) {
            pizza = new LDPepperPizza();
        }
        return pizza;
    }
}
```

å·¥å‚å®ç°æ–¹æ³•ï¼š
```java
//åŒ—äº¬å¥¶é…ªæŠ«è¨
public class BJCheesePizza  extends Pizza{
    @Override
    public void prepare() {
        setName("åŒ—äº¬å¥¶é…ªæŠ«è¨");
        System.err.println("åŒ—äº¬çš„å¥¶é…ªæŠ«è¨ï¼Œå‡†å¤‡åŸææ–™");
    }
}

//åŒ—äº¬èƒ¡æ¤’æŠ«è¨
public class BJPepperPizza extends Pizza{
    @Override
    public void prepare() {
        setName("åŒ—äº¬èƒ¡æ¤’æŠ«è¨");
        System.err.println("åŒ—äº¬çš„èƒ¡æ¤’æŠ«è¨ï¼Œå‡†å¤‡åŸææ–™");
    }
}

//ä¼¦æ•¦å¥¶é…ªæŠ«è¨
public class LDCheesePizza extends Pizza {
    @Override
    public void prepare() {
        setName("ä¼¦æ•¦å¥¶é…ªæŠ«è¨");
        System.err.println("ä¼¦æ•¦çš„å¥¶é…ªæŠ«è¨ï¼Œå‡†å¤‡åŸææ–™");
    }
}

//ä¼¦æ•¦èƒ¡æ¤’æŠ«è¨
public class LDPepperPizza extends Pizza {
    @Override
    public void prepare() {
        setName("ä¼¦æ•¦èƒ¡æ¤’æŠ«è¨");
        System.err.println("ä¼¦æ•¦çš„èƒ¡æ¤’æŠ«è¨ï¼Œå‡†å¤‡åŸææ–™");
    }
}
```